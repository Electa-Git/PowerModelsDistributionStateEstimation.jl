<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Getting Started · PowerModelsDistributionStateEstimation.jl</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">PowerModelsDistributionStateEstimation.jl</span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><span class="tocitem">Manual</span><ul><li class="is-active"><a class="tocitem" href>Getting Started</a><ul class="internal"><li><a class="tocitem" href="#Accessing-Different-Formulations-1"><span>Accessing Different Formulations</span></a></li><li><a class="tocitem" href="#Providing-a-Warm-Start-1"><span>Providing a Warm Start</span></a></li><li><a class="tocitem" href="#Updating-Variable-Bounds-1"><span>Updating Variable Bounds</span></a></li></ul></li><li><a class="tocitem" href="../input_data_format/">Input Data Format</a></li><li><a class="tocitem" href="../measurements/">Measurements and Conversions</a></li><li><a class="tocitem" href="../se_criteria/">State Estimation Criteria</a></li><li><a class="tocitem" href="../bad_data/">Bad Data Detection and Identification</a></li></ul></li><li><span class="tocitem">Library </span><ul><li><a class="tocitem" href="../formulations/">Power Flow Formulations</a></li><li><a class="tocitem" href="../problems/">Problem Specifications</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Manual</a></li><li class="is-active"><a href>Getting Started</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Getting Started</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/Electa-Git/PowerModelsDistributionStateEstimation.jl/blob/master/docs/src/quickguide.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Quick-Start-Guide-1"><a class="docs-heading-anchor" href="#Quick-Start-Guide-1">Quick Start Guide</a><a class="docs-heading-anchor-permalink" href="#Quick-Start-Guide-1" title="Permalink"></a></h1><p>To perform a state estimation (SE), a network data file (e.g. <code>&quot;case3_unbalanced.dss&quot;</code> in <code>../test/data/extra/networks</code>) needs to be acquired, together with its related measurement file (e.g. <code>&quot;case3_meas.csv&quot;</code> in <code>../test/data/extra/measurements</code>). The absolute path to the package is provided through the constant <code>BASE_DIR</code>. Network and measurement data will be merged and a SE can be run as follows:</p><pre><code class="language-julia">using PowerModelsDistribution, PowerModelsDistributionStateEstimation
using JuMP, Ipopt

#full paths to files
ntw_path = joinpath(BASE_DIR, &quot;test/data/extra/networks/case3_unbalanced.dss&quot;)
msr_path = joinpath(BASE_DIR, &quot;test/data/extra/measurements/case3_meas.csv&quot;)

#parse network data file
data = PowerModelsDistribution.parse_file(ntw_path; data_model=MATHEMATICAL)

#add measurement data to network data file
add_measurements!(data, msr_path, actual_meas = true)

#set state estimation settings
data[&quot;se_settings&quot;] = Dict{String,Any}(&quot;criterion&quot; =&gt; &quot;rwlav&quot;, &quot;rescaler&quot; =&gt; 1)

#set solver parameters
slv = JuMP.optimizer_with_attributes(Ipopt.Optimizer, &quot;tol&quot;=&gt;1e-6, &quot;print_level&quot;=&gt;0)

#run state estimation
se_result = solve_acp_mc_se(data, slv)</code></pre><p>The run commands return detailed results in the form of a dictionary, following PowerModelsDistribution format, and can be saved for future processing, like in <code>se_result</code> above.</p><h2 id="Accessing-Different-Formulations-1"><a class="docs-heading-anchor" href="#Accessing-Different-Formulations-1">Accessing Different Formulations</a><a class="docs-heading-anchor-permalink" href="#Accessing-Different-Formulations-1" title="Permalink"></a></h2><p>Different run functions correspond to different formulations. The function <code>solve_acp_mc_se</code> uses the AC Polar form, <code>solve_acr_mc_se</code> uses the AC rectangular, etc. Alternatively, the formulation type can directly be passed to the generic <code>solve_mc_se</code> function:</p><pre><code class="language-julia">solve_mc_se(data, ACPUPowerModel, slv)</code></pre><p>It should be noted that not all solvers can handle all problem types. For example, to use the SDP formulation, you have to use a SDP-capable solver, such as the open-source solver SCS.</p><h2 id="Providing-a-Warm-Start-1"><a class="docs-heading-anchor" href="#Providing-a-Warm-Start-1">Providing a Warm Start</a><a class="docs-heading-anchor-permalink" href="#Providing-a-Warm-Start-1" title="Permalink"></a></h2><p>Providing a (good) initial value to some or all optimization variables can reduce the number of solver iterations. PowerModelsDistributionStateEstimation provides the <code>assign_start_to_variables!</code> function.</p><div class="admonition is-warning"><header class="admonition-header">Missing docstring.</header><div class="admonition-body"><p>Missing docstring for <code>assign_start_to_variables!(data)</code>. Check Documenter&#39;s build log for details.</p></div></div><div class="admonition is-warning"><header class="admonition-header">Missing docstring.</header><div class="admonition-body"><p>Missing docstring for <code>assign_start_to_variables!(data, start_values_source)</code>. Check Documenter&#39;s build log for details.</p></div></div><p>Alternatively, the user can directly assign a value or vector (depending on the dimensions of the variable) in the data dictionary, under the key <code>variablename_start</code>. The example below shows how to do it for the <code>vm</code> and <code>va</code> variables.</p><pre><code class="language-julia">data = parse_file(&quot;case3_unbalanced.dss&quot;; data_model=MATHEMATICAL)
data[&quot;bus&quot;][&quot;2&quot;][&quot;vm_start&quot;] = [0.996, 0.996, 0.996]
data[&quot;bus&quot;][&quot;2&quot;][&quot;va_start&quot;] = [0.00, -2.0944, 2.0944]</code></pre><p>It should be noted that providing a bad initial value might result in longer calculation times or convergence issues, so the start value assignment should be done cautiously. If no initial value is provided, a flat start is assigned by default. The default initial value of each variable is indicated in the function where the variable is defined, as the last argument of the <code>comp_start_value</code> function (this is valid for both imported PowerModelsDistribution and native PowerModelsDistributionStateEstimation variables).</p><h2 id="Updating-Variable-Bounds-1"><a class="docs-heading-anchor" href="#Updating-Variable-Bounds-1">Updating Variable Bounds</a><a class="docs-heading-anchor-permalink" href="#Updating-Variable-Bounds-1" title="Permalink"></a></h2><p>In constrained optimization, reducing the search space might be an effective way to reduce solver time. Search space reduction can be done by assigning bounds to the variables. This must also be done attentively, though, to make sure that the feasible space is not cut, i.e., that feasible solutions are not removed by this process. This can be avoided if good knowledge of the system is available or if some variable have particularly obvious bounds, e.g., voltage magnitude cannot be negative, so its lower bound can be set to 0 without risk. Similar to providing a warm start, it is to user discretion to assign meaningful and &quot;safe&quot; variable bounds. PowerModelsDistributionStateEstimation has functions that allow to define bounds on voltage magnitude, power generation (active and reactive) or power demand (active and reactive):</p><article class="docstring"><header><a class="docstring-binding" id="PowerModelsDistributionStateEstimation.update_voltage_bounds!-Tuple{Dict}" href="#PowerModelsDistributionStateEstimation.update_voltage_bounds!-Tuple{Dict}"><code>PowerModelsDistributionStateEstimation.update_voltage_bounds!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">update_voltage_bounds!(data; v_min, v_max)</code></pre><p>Function that allows to automatically set upper (v<em>max) and lower (v</em>min) voltage bounds for all buses. It assumes that all bus terminals have the same bounds and that there are at most four active terminals.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Electa-Git/PowerModelsDistributionStateEstimation.jl/blob/95391210ae57a5ec723a795e17ff66731dc3828d/src/core/utils.jl#L21-L25">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PowerModelsDistributionStateEstimation.update_generator_bounds!-Tuple{Dict}" href="#PowerModelsDistributionStateEstimation.update_generator_bounds!-Tuple{Dict}"><code>PowerModelsDistributionStateEstimation.update_generator_bounds!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">update_generator_bounds!(data; p_min, p_max, q_min, q_max)</code></pre><p>Function that allows to automatically set upper (p<em>max, q</em>max) and lower (p<em>min, q</em>min) active and reactive power bounds for all generators. It assumes that there are at most  four active phases and all have the same bounds.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Electa-Git/PowerModelsDistributionStateEstimation.jl/blob/95391210ae57a5ec723a795e17ff66731dc3828d/src/core/utils.jl#L32-L37">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PowerModelsDistributionStateEstimation.update_load_bounds!-Tuple{Dict}" href="#PowerModelsDistributionStateEstimation.update_load_bounds!-Tuple{Dict}"><code>PowerModelsDistributionStateEstimation.update_load_bounds!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">update_load_bounds!(data::Dict; p_min::Float64=0.0, p_max::Float64=Inf, q_min::Float64=-Inf, q_max::Float64=Inf)</code></pre><p>Function that allows to automatically set upper (p<em>max, q</em>max) and lower (p<em>min, q</em>min) active and reactive power bounds for all loads. It assumes that there are at most four active phases and all have the same bounds.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Electa-Git/PowerModelsDistributionStateEstimation.jl/blob/95391210ae57a5ec723a795e17ff66731dc3828d/src/core/utils.jl#L46-L50">source</a></section></article><p>or, alternatively, all the above at once:</p><article class="docstring"><header><a class="docstring-binding" id="PowerModelsDistributionStateEstimation.update_all_bounds!-Tuple{Dict}" href="#PowerModelsDistributionStateEstimation.update_all_bounds!-Tuple{Dict}"><code>PowerModelsDistributionStateEstimation.update_all_bounds!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">update_all_bounds!(data; v_min, v_max, pg_min, pg_max, qg_min, qg_max, pd_min, pd_max, qd_min, qd_max)</code></pre><p>Function that combines <code>update_voltage_bounds!</code>, <code>update_generator_bounds!</code> and <code>update_load_bounds!</code> and assigns bounds to all bus voltages and load and generator power.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Electa-Git/PowerModelsDistributionStateEstimation.jl/blob/95391210ae57a5ec723a795e17ff66731dc3828d/src/core/utils.jl#L59-L62">source</a></section></article><p>Alternatively, the user can directly assign a value or vector (depending on the dimensions of the variable) in the data dictionary, under the key <code>variablenamemin</code>/<code>variablenamemax</code>. The example below shows how to do it for the active power.</p><pre><code class="language-julia">data[&quot;load&quot;][&quot;1&quot;][&quot;pmax&quot;] = [1.0, 1.0, 1.0]
data[&quot;load&quot;][&quot;1&quot;][&quot;pmin&quot;] = [0.0, 0.0, 0.0]</code></pre><h3 id="Updating-Residual-Bounds-1"><a class="docs-heading-anchor" href="#Updating-Residual-Bounds-1">Updating Residual Bounds</a><a class="docs-heading-anchor-permalink" href="#Updating-Residual-Bounds-1" title="Permalink"></a></h3><p>Residuals are a type of variable that is specific to the state estimation problem (and not, e.g., of power flow studies). If you do not know what a residual is, please read the <a href="../problems/#Problem-Specifications-1">Problem Specifications</a> section of the documentation. While the residuals as defined in the present package are always non-negative (default lower bound is 0), there is no default upper bound. A function is available to add customized upper bounds:</p><article class="docstring"><header><a class="docstring-binding" id="PowerModelsDistributionStateEstimation.assign_residual_ub!-Tuple{Dict}" href="#PowerModelsDistributionStateEstimation.assign_residual_ub!-Tuple{Dict}"><code>PowerModelsDistributionStateEstimation.assign_residual_ub!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">assign_residual_ub!(data::Dict; chosen_upper_bound::Float64=100, rescale::Bool=false)</code></pre><p>Basic function that assigns upper bounds to the residual variables, by adding a <code>&quot;res_max&quot;</code> entry to the measurement dictionary. The function takes as input either a single measurement dictionary, e.g., <code>data[&quot;meas&quot;][&quot;1&quot;]</code> or the full measurement dictionary, <code>data[&quot;meas]</code>.     # Arguments     - data: <code>ENGINEERING</code> data model of the feeder, or dictionary corresponding to a single measurement     - chosen<em>upper</em>bound: finite upper bound, defaults to 100 if no indication provided     - rescale: <code>false</code> by default. If <code>true</code>, the <code>chosen_upper_bound</code> is multiplied by the value of <code>data[&quot;se_settings&quot;][&quot;rescaler&quot;]</code>                and their product is used as the upper bound. Otherwise,</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Electa-Git/PowerModelsDistributionStateEstimation.jl/blob/95391210ae57a5ec723a795e17ff66731dc3828d/src/core/utils.jl#L97-L106">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Home</a><a class="docs-footer-nextpage" href="../input_data_format/">Input Data Format »</a></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Wednesday 30 June 2021 13:48">Wednesday 30 June 2021</span>. Using Julia version 1.6.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
