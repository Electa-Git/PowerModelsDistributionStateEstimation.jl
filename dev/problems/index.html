<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Problem Specifications · PowerModelsSE.jl</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">PowerModelsSE.jl</span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><span class="tocitem">Manual</span><ul><li><a class="tocitem" href="../quickguide/">Getting Started</a></li><li><a class="tocitem" href="../input_data_format/">Input Data Format</a></li><li><a class="tocitem" href="../measurements/">Measurements and Conversions</a></li><li><a class="tocitem" href="../se_criteria/">State Estimation Criteria</a></li></ul></li><li><span class="tocitem">Library </span><ul><li><a class="tocitem" href="../formulations/">Power Flow Formulations</a></li><li class="is-active"><a class="tocitem" href>Problem Specifications</a><ul class="internal"><li><a class="tocitem" href="#State-estimation-problem-implementation-1"><span>State estimation problem implementation</span></a></li><li><a class="tocitem" href="#Mathematical-formulation-1"><span>Mathematical formulation</span></a></li></ul></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Library </a></li><li class="is-active"><a href>Problem Specifications</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Problem Specifications</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/Electa-Git/PowerModelsSE.jl/blob/master/docs/src/problems.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Problem-Specifications-1"><a class="docs-heading-anchor" href="#Problem-Specifications-1">Problem Specifications</a><a class="docs-heading-anchor-permalink" href="#Problem-Specifications-1" title="Permalink"></a></h1><p>The main purpose of PowerModelsSE is to solve state estimation problems. For a number of purposes, it might be useful to perform power flow or OPF calculations, within the context of a state estimation study. For example, power flow calculations can be used to validate the accuracy of the state estimator, or to generate artificial measurement data, if these are not available. Power flow and OPF calculations can be accessed from PowerModelsDistribution. The description of these problems can be found in PowerModelsDistribution&#39;s <a href="https://lanl-ansi.github.io/PowerModelsDistribution.jl/latest/math-model/">documentation</a>. On the line of the problem description of PowerModelsDistribution, PowerModelsSE hosts the possibility to run power flow with the reduced formulations, which are not available in PowerModelsDistribution (see section <a href="../formulations/#Network-Formulations-1">Network Formulations</a> of the manual). The result of a reduced power flow is the same as a full power flow run with an exact power flow formulation (ACP, ACR or IVR) if the network does not have storage units, bus shunts, ground admittance and active switches. Else, it&#39;s a simplification.</p><p><strong>Reduced power flow</strong></p><div class="admonition is-warning"><header class="admonition-header">Missing docstring.</header><div class="admonition-body"><p>Missing docstring for <code>run_reduced_pf</code>. Check Documenter&#39;s build log for details.</p></div></div><h2 id="State-estimation-problem-implementation-1"><a class="docs-heading-anchor" href="#State-estimation-problem-implementation-1">State estimation problem implementation</a><a class="docs-heading-anchor-permalink" href="#State-estimation-problem-implementation-1" title="Permalink"></a></h2><p>For a bus injection model, the structure of the state estimation problem is the following. See the implementation at src/prob/se.jl for all the models&#39;  implementations and their details. The functions preceded by a &quot;_PMD.&quot; are imported from PowerModelsDistributions.jl. Those without prefix are original PowerModelsSE functions, those preceded by a &quot;PowerModelsSE.&quot; are present in both and therefore needed disambiguation.</p><h3 id="Variables-1"><a class="docs-heading-anchor" href="#Variables-1">Variables</a><a class="docs-heading-anchor-permalink" href="#Variables-1" title="Permalink"></a></h3><pre><code class="language-julia">
PowerModelsSE.variable_mc_bus_voltage(pm; bounded = true)
_PMD.variable_mc_branch_power(pm; bounded = true)
_PMD.variable_mc_transformer_power(pm; bounded = true)
_PMD.variable_mc_gen_power_setpoint(pm; bounded = true)
variable_mc_load(pm; report = true)
variable_mc_residual(pm, bounded = true)
variable_mc_measurement(pm, bounded = false)</code></pre><p>It can be seen that the first variables are bounded. It is up to the user to define reasonable upper/lower bounds that don&#39;t cut the feasible space of the problem. They can in principle be set as +/- infinity if no better information on the bounds is available.</p><h3 id="Constraints-1"><a class="docs-heading-anchor" href="#Constraints-1">Constraints</a><a class="docs-heading-anchor-permalink" href="#Constraints-1" title="Permalink"></a></h3><pre><code class="language-julia">
for (i,gen) in _PMD.ref(pm, :gen)
    _PMD.constraint_mc_gen_setpoint(pm, i)
end
for (i,bus) in _PMD.ref(pm, :ref_buses)
    @assert bus[&quot;bus_type&quot;] == 3
    _PMD.constraint_mc_theta_ref(pm, i)
end
for (i,bus) in _PMD.ref(pm, :bus)
    PowerModelsSE.constraint_mc_load_power_balance_se(pm, i)
end
for (i,branch) in _PMD.ref(pm, :branch)
    _PMD.constraint_mc_ohms_yt_from(pm, i)
    _PMD.constraint_mc_ohms_yt_to(pm,i)
end
for (i,meas) in _PMD.ref(pm, :meas)
    constraint_mc_residual(pm, i)
end

for i in _PMD.ids(pm, :transformer)
    _PMD.constraint_mc_transformer_power(pm, i)
end</code></pre><h3 id="Objective-1"><a class="docs-heading-anchor" href="#Objective-1">Objective</a><a class="docs-heading-anchor-permalink" href="#Objective-1" title="Permalink"></a></h3><pre><code class="language-julia">    objective_mc_se(pm)</code></pre><p>For branch flow/linearized/SDP models, the variable space changes and also some of the constraints, while the objective always stays the same.</p><h2 id="Mathematical-formulation-1"><a class="docs-heading-anchor" href="#Mathematical-formulation-1">Mathematical formulation</a><a class="docs-heading-anchor-permalink" href="#Mathematical-formulation-1" title="Permalink"></a></h2><p>For a detailed description of the mathematical model, please refer to the following <a href=".">publication</a>. In the mathematical description below, the following sets are used,</p><div>\[\begin{align}
%
\mbox{sets:} &amp; \nonumber \\
&amp; \mathcal{N} \mbox{ - buses}\nonumber \\
&amp; \mathcal{R} \mbox{ - references buses}\nonumber \\
&amp; \mathcal{E}, \mathcal{E}$_i$  \mbox{ - branches, branches to and from bus $i$} \nonumber \\
&amp; \mathcal{G}, \mathcal{G}$_i$ \mbox{ - generators and generators at bus $i$} \nonumber \\
&amp; \mathcal{L}, \mathcal{L}$_i$ \mbox{ - loads and loads at bus $i$} \nonumber \\
&amp; \mathcal{S}, \mathcal{S}$_i$ \mbox{ - shunts and shunts at bus $i$} \nonumber \\
&amp; \Phi. \Phi_{ij} \mbox{ - conductors, conductors of branch $(ij)$} \nonumber \\
%
\end{align}\]</div><ul><li>Bold characters indicate vectors and matrices</li><li>The <span>$\text{diag}(\cdot)$</span> operator takes the diagonal (vector) from a matrix</li><li><div>\[(\cdot)^H\]</div>indicates the conjugate transpose of a matrix</li></ul><p>The julia problem above, can be associated to the following mathematical description</p><p>```math \textbf{Variables:}</p><p>\begin{align}   &amp;\mathbf{S}^g<em>{k}, \mathbf{S}^d</em>{k}, \mathbf{U}<em>{i}   \;\; \forall k \in \mathcal{G}, k \in \mathcal{L}, i \in \mathcal{N}, \nonumber \     &amp; \mathbf{S}</em>{ij}, \boldsymbol{\rho}_m \;\; \forall (i,j) \in \mathcal{E}, m \in \mathcal{M} \nonumber. \end{align}</p><p>\textbf{Constraints:}</p><p>\begin{align} &amp;\mathbf{\angle {U}}<em>{r} = [0, -120, 120] \deg  \;\; \forall r \in \mathcal{R}, \
\begin{split} &amp;\sum</em>{\substack{k \in \mathcal{G}<em>i}} \mathbf{S}^g</em>k - \sum<em>{\substack{k \in \mathcal{L}</em>i}} \mathbf{S}^d<em>k - \sum</em>{\substack{k \in \mathcal{S}<em>i}}  \mathbf{U}</em>i \mathbf{U}^H<em>i (\mathbf{Y}^s</em>k)^H  = \
&amp; \; \; \; \sum<em>{\substack{(i,j)\in \mathcal{E}</em>i}} diag(\mathbf{S}<em>{ij}) \;\; \forall i\in \mathcal{N},  \end{split} \
 &amp; \mathbf{S}</em>{ij} =  \mathbf{U}<em>i \mathbf{U}</em>i^H \left( \mathbf{Y}^{sh}<em>{ij}\right)^H + \mathbf{U}</em>i \left(\mathbf{U}<em>i- \mathbf{U}</em>j \right)^H (\mathbf{Y}<em>{ij})^H  \;\; \forall (i,j)\in \mathcal{E}, \
%&amp; \mathbf{S}</em>{ij} =  {\mathbf{U}<em>i \mathbf{U}</em>i^H} \left( \mathbf{Y}<em>{ij} + \mathbf{Y}^{sh}</em>{ij}\right)^H - {\mathbf{U}<em>i \mathbf{U}^H</em>j} \mathbf{Y}^H<em>{ij}  \;\; \forall (i,j)\in \mathcal{E}, \
%&amp; \mathbf{S}</em>{ji} = \mathbf{U}<em>j \mathbf{U}</em>j^H \left( \mathbf{Y}<em>{ij} + \mathbf{Y}^{sh}</em>{ji} \right)^H - {\mathbf{U}^H<em>i \mathbf{U}</em>j} \mathbf{Y}^H<em>{ij} \;\; \forall (i,j)\in \mathcal{E}, \
&amp; \boldsymbol{\rho}</em>m = r<em>m(\mathbf{f}</em>m(\mathbf{x}), \mathbf{z}<em>m, \boldsymbol{\sigma}</em>m) %\| \mathbf{f}<em>m(\mathbf{x}) - \mathbf{z}</em>m \|<em>p/\boldsymbol{\sigma}^p</em>m \;\; \forall m \in \mathcal{M}, \mathbf{x} \in \mathcal{X}. \end{align}</p><p>\textbf{Objective:}</p><p>\begin{equation}\label{eq:objective}   \text{minimize} \; \; \sum<em>{\substack{m \in \measm}} \boldsymbol{\rho}</em>{m}. \end{equation}</p><p>``` The residual <span>$\rho_{m, \phi}$</span> is a function that allows to represent the uncertainty on a given measurement <span>$m$</span>, performed on conductor <span>$\phi$</span>. In the mathematical description above, it is identified as the function <span>$r$</span>, which is depending on the measurement <span>$\mathbf{z}$</span>, and another function: <span>$f$</span>.</p><p>The function <span>$f_{m,\phi}$</span> are used to handle measurements <span>$z_{m,\phi}$</span> that are performed on quantities that do not refer to the problems&#39; variable space. There are the measurements conversions described in the <a href="@ref">Measurements and Conversions</a> section of this manual.</p><p>Function <span>$r_{m,\phi}$</span>, on the other hand, depends on what state estimation criterion is chosen, e.g., WLS, WLAV, MLE. The form that <span>$r_{m,\phi}$</span> takes in the various cases is defined in the section <a href="@ref">State Estimation Criteria</a> of this manual.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../formulations/">« Power Flow Formulations</a></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Friday 2 October 2020 23:26">Friday 2 October 2020</span>. Using Julia version 1.4.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
